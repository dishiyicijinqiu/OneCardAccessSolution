<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <section name="exceptionHandling" type="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.Configuration.ExceptionHandlingSettings, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.505.0, Culture=neutral, PublicKeyToken=null" requirePermission="true" />
  </configSections>
  <exceptionHandling>
    <exceptionPolicies>
      <add name="ErrorPolicy">
        <exceptionTypes>
          <add name="All Exceptions" type="System.Exception, mscorlib"
            postHandlingAction="ThrowNewException">
            <exceptionHandlers>
              <add name="Replace Handler" type="Microsoft.Practices.EnterpriseLibrary.ExceptionHandling.ReplaceHandler, Microsoft.Practices.EnterpriseLibrary.ExceptionHandling, Version=5.0.505.0, Culture=neutral, PublicKeyToken=null"
                exceptionMessage="服务调用失败" replaceExceptionType="System.Exception, mscorlib, Version=2.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />
            </exceptionHandlers>
          </add>
          <add name="BusinessException" type="FengSharp.OneCardAccess.Common.BusinessException, FengSharp.OneCardAccess.Common"
            postHandlingAction="None" />
          <add name="LoginTimeOutException" type="FengSharp.OneCardAccess.Common.LoginTimeOutException, FengSharp.OneCardAccess.Common"
            postHandlingAction="None" />
        </exceptionTypes>
      </add>
    </exceptionPolicies>
  </exceptionHandling>

  <system.serviceModel>
    <behaviors>
      <endpointBehaviors>
        <behavior>
          <Session />
        </behavior>
        <behavior name="NoSession">
        </behavior>
      </endpointBehaviors>
      <serviceBehaviors>
        <behavior>
          <dataContractSerializer maxItemsInObjectGraph="2147483647" />
          <ExceptionHandling exceptionPolicyName="ErrorPolicy" />
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <extensions>
      <behaviorExtensions>
        <add name="ExceptionHandling" type="FengSharp.OneCardAccess.Common.ExceptionHandlingBehaviorElement, FengSharp.OneCardAccess.Common" />
        <add name="Session" type="FengSharp.OneCardAccess.Common.SessionBehaviorElement, FengSharp.OneCardAccess.Common" />
      </behaviorExtensions>
    </extensions>
    <bindings>
      <netTcpBinding>
        <!--<binding name="DefaultnetTcpBinding" closeTimeout="00:03:00"
          openTimeout="00:03:00" receiveTimeout="00:03:00" />-->

        <!--<binding name="DefaultnetTcpBinding" maxReceivedMessageSize="2147483647" transferMode="Buffered">
          <readerQuotas maxStringContentLength="2147483647" maxArrayLength="12000000"/>
          <security mode="None">
            <transport clientCredentialType="None"></transport>
          </security>
        </binding>-->
        <binding maxBufferSize="2147483647" maxReceivedMessageSize="2147483647"
                 openTimeout ="00:10:00" receiveTimeout ="00:10:00" sendTimeout ="00:10:00" closeTimeout ="00:10:00">
          <security mode="None">
            <transport clientCredentialType="None"></transport>
          </security>
        </binding>
      </netTcpBinding>
    </bindings>
    <client>
      <endpoint address="net.tcp://192.168.0.170/OneCardAccessServer/RBACService.svc"
        binding="netTcpBinding"
        contract="FengSharp.OneCardAccess.ServiceInterfaces.IRBACService"
        name="RBACService" behaviorConfiguration="NoSession" />
      <endpoint address="net.tcp://192.168.0.170/OneCardAccessServer/BasicInfoService.svc"
        binding="netTcpBinding"
        contract="FengSharp.OneCardAccess.ServiceInterfaces.IBasicInfoService"
        name="BasicInfoService" />
    </client>
  </system.serviceModel>


</configuration>