<UserControl x:Class="FengSharp.OneCardAccess.Client.PC.View.MainView"
            xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
            xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
            xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
            xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
            xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
            xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
            xmlns:dxd="http://schemas.devexpress.com/winfx/2008/xaml/docking"
            xmlns:dxrt="http://schemas.devexpress.com/winfx/2008/xaml/ribbon/themekeys"
            xmlns:dxr="http://schemas.devexpress.com/winfx/2008/xaml/ribbon"
            xmlns:dxb="http://schemas.devexpress.com/winfx/2008/xaml/bars"
            xmlns:viewmodel="clr-namespace:FengSharp.OneCardAccess.Client.PC.ViewModel"
            xmlns:res="clr-namespace:FengSharp.OneCardAccess.Client.PC.Properties"
            xmlns:local="clr-namespace:FengSharp.OneCardAccess.Client.PC.View"
            xmlns:ui="clr-namespace:FengSharp.OneCardAccess.Client.PC.UI">
    <!--<x:Arguments>
        <x:String>Apple</x:String>
    </x:Arguments>-->
    <!--DataContext="{dxmvvm:ViewModelSource Type=viewmodel:MainViewModel}"-->
    <dxmvvm:Interaction.Behaviors>
        <dxmvvm:EventToCommand Command="{Binding OnLoadedCommand}" />
        <dx:DXMessageBoxService/>
        <dx:DialogService Name="LoginWindowService">
            <dx:DialogService.DialogStyle>
                <Style TargetType="dx:DXDialogWindow">
                    <Setter Property="Icon" Value="/FengSharp.OneCardAccess.Client.PC;component/Resources/Images/logo.ico"/>
                    <Setter Property="SizeToContent" Value="WidthAndHeight"/>
                </Style>
            </dx:DialogService.DialogStyle>
        </dx:DialogService>
    </dxmvvm:Interaction.Behaviors>
    <UserControl.DataContext>
        <dxmvvm:ViewModelSourceExtension Type="viewmodel:MainViewModel">
        </dxmvvm:ViewModelSourceExtension>
    </UserControl.DataContext>
    <dxb:BarManager x:Name="barManager">
        <dxb:BarManager.Items>
            <dxb:BarButtonItem x:Name="bCateInfo" Content="{x:Static res:Resources.Menu_Register}" 
                               Command="{Binding ShowDocumentCommand}" 
                               Glyph="/FengSharp.OneCardAccess.Client.PC;component/Resources/Images/Bar/add_16x16.png" 
                               LargeGlyph="/FengSharp.OneCardAccess.Client.PC;component/Resources/Images/Bar/add_32x32.png" >
                <dxb:BarButtonItem.CommandParameter>
                    <viewmodel:DocumentInfoExtension DocumentName="{x:Static res:Resources.RegisterCollectionView_Title}" DocumentType="RegisterCollectionView"/>
                </dxb:BarButtonItem.CommandParameter>
            </dxb:BarButtonItem>
            <dxb:BarButtonItem x:Name="bProductInfo" Content="{x:Static res:Resources.Menu_Register}" 
                               Command="{Binding ShowDocumentCommand}"
                               Glyph="/FengSharp.OneCardAccess.Client.PC;component/Resources/Images/Bar/add_16x16.png" 
                               LargeGlyph="/FengSharp.OneCardAccess.Client.PC;component/Resources/Images/Bar/add_32x32.png" >
                <dxb:BarButtonItem.CommandParameter>
                    <viewmodel:DocumentInfoExtension DocumentName="{x:Static res:Resources.RegisterCollectionView_Title}" DocumentType="RegisterCollectionView"/>
                </dxb:BarButtonItem.CommandParameter>
            </dxb:BarButtonItem>
        </dxb:BarManager.Items>
        <DockPanel>
            <dxr:RibbonControl x:Name="ribbonControl1" DockPanel.Dock="Top">
                <dxr:RibbonControl.Resources>
                    <dx:BooleanToDoubleConverter x:Key="opacityConverter" />
                    <Style TargetType="{x:Type dxr:RibbonPageGroupsControl}">
                        <Setter Property="Focusable" Value="False"/>
                        <Setter Property="IsTabStop" Value="False"/>
                        <Setter Property="IsHitTestVisible" Value="{Binding Path=Page.IsSelected, RelativeSource={RelativeSource Mode=Self}}"/>
                        <Setter Property="Opacity" Value="{Binding Path=Page.IsSelected, RelativeSource={RelativeSource Mode=Self}, Converter={StaticResource opacityConverter}}"/>
                        <Setter Property="ItemsPanel" Value="{DynamicResource {dxrt:RibbonThemeKey ResourceKey=PageGroupsControlItemsPanelTemplate}}"/>
                        <Setter Property="Template"  Value="{DynamicResource {dxrt:RibbonThemeKey ResourceKey=PageGroupsControlTemplate}}"/>
                    </Style>
                    <Style TargetType="{x:Type dxr:RibbonPagesControl}">
                        <Setter Property="ItemsPanel" Value="{DynamicResource {dxrt:RibbonThemeKey ResourceKey=PagesControlItemsPanelTemplate}}"/>
                        <Setter Property="Template"  Value="{DynamicResource {dxrt:RibbonThemeKey ResourceKey=PagesControlTemplate}}"/>
                        <Setter Property="Focusable" Value="False"/>
                        <Setter Property="IsTabStop" Value="False"/>
                    </Style>
                    <ItemsPanelTemplate x:Key="{dxrt:RibbonThemeKey ResourceKey=PageGroupsControlItemsPanelTemplate}">
                        <local:MyRibbonPageGroupsItemsPanel />
                    </ItemsPanelTemplate>
                    <ItemsPanelTemplate x:Key="{dxrt:RibbonThemeKey ResourceKey=PagesControlItemsPanelTemplate}">
                        <local:MyRibbonPagesItemsPanel />
                    </ItemsPanelTemplate>

                </dxr:RibbonControl.Resources>
                <dxr:RibbonDefaultPageCategory>
                    <dxr:RibbonPage Name="Home" Caption="{x:Static res:Resources.Menu_RibbonPage_Navigate}">
                        <dxr:RibbonPageGroup Caption="{x:Static res:Resources.Menu_RibbonPageGroup_BasicInfo}" >
                            <dxr:RibbonPageGroup.ItemLinks>
                                <dxb:BarButtonItemLink BarItemName="bCateInfo" />
                                <dxb:BarButtonItemLink BarItemName="bProductInfo" />
                            </dxr:RibbonPageGroup.ItemLinks>
                        </dxr:RibbonPageGroup>
                    </dxr:RibbonPage>
                </dxr:RibbonDefaultPageCategory>
            </dxr:RibbonControl>
            <dxd:DockLayoutManager x:Name="dockLayoutManager" DisposeOnWindowClosing="True">
                <dxd:DockLayoutManager.Resources>
                    <Style x:Key="DocumentPanelStyle" TargetType="dxd:DocumentPanel">
                        <Setter Property="BindableName" Value="{Binding Path=Content.DataContext.DocumentName,
                        RelativeSource={RelativeSource Mode=Self}}"/>
                    </Style>
                </dxd:DockLayoutManager.Resources>
                <dxd:LayoutGroup >
                    <dxd:DocumentGroup x:Name="mdiContainer" MDIStyle="Tabbed" AllowContextMenu="True" >
                        <dxmvvm:Interaction.Behaviors>
                            <dxd:TabbedDocumentUIService DocumentPanelStyle="{StaticResource DocumentPanelStyle}" 
                                                      DocumentGroup="{Binding ElementName=documentGroup}"/>
                        </dxmvvm:Interaction.Behaviors>
                    </dxd:DocumentGroup>
                </dxd:LayoutGroup>
            </dxd:DockLayoutManager>
        </DockPanel>
    </dxb:BarManager>
</UserControl>
